{% extends 'base.html.twig' %}

{% block title %}Hello MainController!
{% endblock %}

{% block body %}


	<div class="container  col-3">
		<form class="row g-3" method="POST" action="{{ path('addElt') }}">
			<div class="col-10">
				<input type="text" class="form-control" placeholder="Element" name="elt">
			</div>
			<div class="col-auto">
				<button type="submit" class="btn btn-primary mb-3">add</button>
			</div>
		</form>

		<table class="table table-striped">
			<thead>
				<tr>
					<th colspan="3">
						<strong>Name</strong>
					</th>
				</tr>
			</thead>
			<tbod>
				{% for lst in lstCourse %}
					<tr id="tr-color-{{lst.id}}" class="{% if lst.buy == true %}table-danger{% endif %}">
						<td id="barre-{{lst.id}}" class="{% if lst.buy == true %}barre{% endif %}">{{ lst.name }}</td>
                        <td><a href="#"><i class="fas fa-check" onclick="buy('{{ path('modifElt',{id:lst.id})}}',{{lst.id}})"></i></a></td>
                        <td><a href="{{ path('delElt',{id:lst.id}) }}"><i class="fas fa-trash"></i></a></td>
					</tr>
				{% endfor %}
			</tbod>
		</table>
	</div>

    <script>
        
       function buy(a,i){
            fetch(a, {
                method: 'post',
            }).then(function(response) {

                document.getElementById('tr-color-'+i).className = "table-danger";
                document.getElementById('barre-'+i).className = "barre";

                return ok;
            });
       }
            
    </script>

{% endblock %}
